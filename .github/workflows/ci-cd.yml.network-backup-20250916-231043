name: "ðŸŽ¯ Resultados â€“ CI/CD Pipeline"

on:
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]
  workflow_dispatch:
    inputs:
      environment:
        description: "Destino do deploy"
        required: false
        default: "production"
        type: choice
        options: [ staging, production ]

# ----------------------------------------------------------------------
# PARÃ‚METROS GERAIS
# ----------------------------------------------------------------------

env:
  SERVICE_NAME: resultados
  TZ: America/Sao_Paulo

concurrency:
  group: ${{ github.workflow }}-${{ github.ref }}-${{ github.event_name == 'workflow_dispatch' && inputs.environment || 'production' }}
  cancel-in-progress: false

# ----------------------------------------------------------------------
# JOB 1 â–¸ VALIDAÃ‡ÃƒO DO WORKSPACE
# ----------------------------------------------------------------------

jobs:
  validate-environment:
    runs-on: ubuntu-latest
    timeout-minutes: 20
    steps:
      - uses: actions/checkout@v4
      # REMOVIDO: Azure CLI nÃ£o deve ser usado em produÃ§Ã£o
      # Docker Secrets sÃ£o sincronizados pela infraestrutura-core
